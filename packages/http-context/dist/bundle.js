(()=>{"use strict";var e={181:function(e,t){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var o,n=0,a=t.length;n<a;n++)!o&&n in t||(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if("object"==typeof e&&null!==e){if("function"==typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1},i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){if(Array.isArray(t))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(t).forEach((function(r){["__proto__","constructor","prototype"].includes(r)||(Array.isArray(e[r])&&Array.isArray(t[r])?e[r]=i.options.mergeArrays?Array.from(new Set(e[r].concat(t[r]))):t[r]:a(e[r])&&a(t[r])?e[r]=i(e[r],t[r]):e[r]=t[r])})),e}),{})},s={mergeArrays:!0};i.options=s,i.withOptions=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];i.options=r({mergeArrays:!0},e);var u=i.apply(void 0,n([],o(t),!1));return i.options=s,u},t.default=i},735:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(57),a=o(r(585)),i=(e,t)=>{let r;switch(t.type){case"context":t.jsonPath&&(r=(0,n.getFromObject)(e,t.jsonPath));break;case"uuidV4":r=(0,a.default)()}return null===r?void 0:r};t.default=(e,t)=>{let r=t.default;const o=Array.isArray(t.source)?t.source:t.source?[t.source]:[];for(const t of o)if(r=i(e,t),void 0!==r)break;return!0===t.required&&void 0===r&&console.error("Better error message"),r}},584:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.destinationSet=void 0;const n=r(113),a=o(r(735));t.destinationSet=(e,t,r)=>{(0,n.getChildElement)(e,t).setAttribute("value",r)},t.default=(e,r)=>{const o=(0,n.getForm)(e.formQuery),i=Array.isArray(e.destination)?e.destination:e.destination?[e.destination]:[];for(const e of i){const n=(0,a.default)(r,e.pullFrom);(0,t.destinationSet)(o,e.destination,n)}return o}},113:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getForm=t.getChildElement=t.getElementFromQuery=void 0;const r=(e,t,r="")=>{const o=JSON.stringify(e).replace(/"/g,"'"),n=""===r?"":` on form '${r}'`;if(t.length>1)throw Error(`More than one HTMLElement found${n}. Query was ${o}.`);if(0===t.length)throw Error(`No HTMLElement found${n}. Query was ${o}.`);if(!(t[0]instanceof HTMLElement))throw Error(`Element, instead of HTMLElement, found. Query was ${o}.`);return t[0]};t.getElementFromQuery=e=>{let t=[];if(e.name&&e.value)switch(e.name){case"id":const r=document.getElementById(e.value);t=r?[r]:[];break;case"name":t=document.getElementsByName(e.value);break;case"class":t=document.getElementsByClassName(e.value);break;default:throw Error(`Unsupported query name '${e.name}'.`)}else if(e.value){let r=document.getElementById(e.value);t=r?[r]:document.getElementsByName(e.value)}else{if(!e.tag)throw Error("Query requires at least one of tag, name or value.");t=document.getElementsByTagName(e.tag)}return r(e,t)},t.getChildElement=(e,t)=>{if(void 0===t.value&&void 0===t.name)throw Error("HtmlElementQuery requires a query value and/or query name.");const o=e.id?e.id:e.name?e.name:"(no id or name)";let n=[],a=t.tag?e.getElementsByTagName(t.tag):e.elements;const i=t.name,s=t.value?.toLowerCase();for(const e of a)void 0!==i&&void 0!==s?e.getAttribute(i)?.toLowerCase()===s&&n.push(e):void 0!==i?e.hasAttribute(i)&&n.push(e):e.getAttribute("id")?.toLowerCase()!==s&&e.getAttribute("name")?.toLowerCase()!==s||n.push(e);return r(t,n,o)},t.getForm=e=>{const r=e||{tag:"form",name:"tag"},o=(0,t.getElementFromQuery)(r);if(o instanceof HTMLFormElement)return o;throw Error(`Expected an html '${r.tag}' tag named '${r.name}' but found an html element of type '${o.nodeName}'.`)}},730:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.httpDocument=void 0;const o=r(847);t.httpDocument=()=>{const e=window.location,t=navigator;return{referrer:document.referrer,title:document.title,language:t.language,url:{urlParams:(0,o.urlParamsToObj)(e.search),hash:e.hash,host:e.host,hostname:e.hostname,href:e.href,origin:e.origin,pathname:e.pathname,port:e.port,protocol:e.protocol,search:e.search},browser:{userAgent:t.userAgent,cookieEnabled:t.cookieEnabled,platform:t.platform}}}},190:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wpContext=t.httpDocument=void 0;var o=r(730);Object.defineProperty(t,"httpDocument",{enumerable:!0,get:function(){return o.httpDocument}});var n=r(520);Object.defineProperty(t,"wpContext",{enumerable:!0,get:function(){return n.wpContext}})},520:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wpContext=void 0;const o=r(216),n=r(730);t.wpContext=()=>({cookies:(0,o.cookiesToObj)(document.cookie),document:(0,n.httpDocument)()})},920:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const i=a(r(889));i.default.trkm=i.library},216:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cookiesToObj=void 0,t.cookiesToObj=(e,t)=>{const r={};for(let o of e.split(";"))if(""!==o){const e=o.split("=");if(2===e.length){const o=decodeURIComponent(e[0]),n=(t?.mutateProperty?t.mutateProperty(o):o).trim();if(void 0!==r[n])throw new Error(`Cookies had more than one cookie with a property named '${n}'.`);r[n]=decodeURIComponent(e[1])}}return r}},566:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sessionMerge=t.sessionGet=t.sessionInit=void 0;const n=r(19),a=o(r(181));t.sessionInit=(e=n.WP_CONTEXT_SESSION_KEY)=>{sessionStorage.setItem(e,JSON.stringify({}))},t.sessionGet=(e=n.WP_CONTEXT_SESSION_KEY)=>{const t=sessionStorage.getItem(e);return t?JSON.parse(t):{}},t.sessionMerge=(e,r=n.WP_CONTEXT_SESSION_KEY)=>{const o=(0,a.default)((0,t.sessionGet)(r),e);return sessionStorage.setItem(r,JSON.stringify(o)),o}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.urlParamsToObj=void 0,t.urlParamsToObj=(e,t)=>{const r={},o=new URLSearchParams(e);for(let e of o){const o=(t?.mutateProperty?t.mutateProperty(e[0]):e[0]).trim();if(void 0!==r[o])throw new Error(`URL search parameters had more than one search parameter with a parameter named '${o}'.`);r[o]=e[1]}return r}},585:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{let e="";try{e=URL.createObjectURL(new Blob)}finally{URL.revokeObjectURL(e)}return e.substring(e.lastIndexOf("/")+1)}},889:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.library=void 0;const n=o(r(585)),a=r(57),i=r(190),s=r(566),u=o(r(584));t.library={uuidGenerateV4:n.default,insertIntoObject:a.insertIntoObject,context:i.wpContext,session:{get:s.sessionGet,init:s.sessionInit,merge:s.sessionMerge},formApply:u.default},t.default=globalThis},57:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFromObject=t.insertIntoObject=void 0,t.insertIntoObject=(e,t)=>{const r=Array.isArray(t)?t:[t],o=[];for(const t of r){if(""===t.path)throw Error("Path can not be empty.");const r=t.path.split(".");let n=e;for(let e=0;e<r.length-1;e+=1){const t=r[e];o.push(t),t in n||(n[t]={}),n=n[t]}if("object"!=typeof n)throw TypeError(`Unable to add a value to path '${t.path}' because the value at '${o.join(".")}' is a primitive when an object was expected.`);n[r[r.length-1]]=t.value}return e},t.getFromObject=(e,t)=>{const r=t.split(".");let o=e;const n=[];for(let e=0;e<r.length-1;e+=1){const t=r[e];if(!o[t])throw Error(`Unable to resolve path. Object did not have a property '${t}' at path '${n.join(".")}'.`);o=o[t],n.push(t)}const a=r[r.length-1];if("object"!=typeof o)throw TypeError(`Unable to get a value from path '${t}' because the value at '${n.join(".")}' is a primitive when an object was expected.`);if(!Object.prototype.hasOwnProperty.call(o,a))throw Error(`Unable to get a value from path '${t}' because the object at '${n.join(".")}' did not have property ${a}.`);return o[a]}},19:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WP_CONTEXT_SESSION_KEY=void 0,t.WP_CONTEXT_SESSION_KEY="tm_context_session"}},t={};!function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}(920)})();